{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/Users/leonardo.rodrigues/IdeaProjects/IMDB-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/leonardo.rodrigues/IdeaProjects/IMDB-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/leonardo.rodrigues/IdeaProjects/IMDB-Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams,useHistory}from'react-router-dom';import{busca}from'../api/api';import'../assets/css/post.css';import axios from'axios';var Post=function Post(){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){busca(\"/movie/\".concat(id),setPost);},[id]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://imdb-bonaparte.herokuapp.com/movie/all\");case 3:res=_context.sent;setData(res===null||res===void 0?void 0:res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"titulo-pagina\",children:[\"Rating - \",id]}),/*#__PURE__*/_jsx(\"section\",{className:\"container flex flex--centro\",children:data.filter(function(post){return post.title===id;}).map(function(post){return/*#__PURE__*/_jsxs(\"article\",{className:\"cartao\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"cartao-post__titulo\",children:[post.title,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"h2\",{children:[\"Rating: \",post.rating]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"cartao-post__meta\",children:post.description})]},post.id);})})]});};export default Post;","map":{"version":3,"sources":["C:/Users/leonardo.rodrigues/IdeaProjects/IMDB-Front/src/paginas/Post.jsx"],"names":["React","useState","useEffect","useParams","useHistory","busca","axios","Post","history","id","post","setPost","data","setData","fetchData","get","res","console","log","filter","title","map","rating","description"],"mappings":"mlBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,kBAAtC,CACA,OAASC,KAAT,KAAsB,YAAtB,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAIC,CAAAA,OAAO,CAAGJ,UAAU,EAAxB,CADiB,eAEFD,SAAS,EAFP,CAETM,EAFS,YAETA,EAFS,eAGMR,QAAQ,CAAC,EAAD,CAHd,wCAGXS,IAHW,eAGLC,OAHK,8BAIOV,QAAQ,CAAC,EAAD,CAJf,yCAIVW,IAJU,eAIJC,OAJI,eAMjBX,SAAS,CAAC,UAAM,CACdG,KAAK,kBAAWI,EAAX,EAAiBE,OAAjB,CAAL,CACD,CAFQ,CAEN,CAACF,EAAD,CAFM,CAAT,CAIA,GAAMK,CAAAA,SAAS,0FAAG,iLAEIR,CAAAA,KAAK,CAACS,GAAN,CAChB,gDADgB,CAFJ,QAERC,GAFQ,eAKdH,OAAO,CAACG,GAAD,SAACA,GAAD,iBAACA,GAAG,CAAEJ,IAAN,CAAP,CALc,+EAOdK,OAAO,CAACC,GAAR,cAPc,oEAAH,kBAATJ,CAAAA,SAAS,0CAAf,CAWAZ,SAAS,CAAC,UAAM,CACdY,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,qCAEM,YAAI,SAAS,CAAC,eAAd,uBAAwCL,EAAxC,GAFN,cAGM,gBAAS,SAAS,CAAC,6BAAnB,UAECG,IAAI,CACHO,MADD,CACQ,SAACT,IAAD,QAAWA,CAAAA,IAAI,CAACU,KAAL,GAAeX,EAA1B,EADR,EAECY,GAFD,CAEK,SAACX,IAAD,qBACD,iBAAuB,SAAS,CAAC,QAAjC,wBACG,YAAI,SAAS,CAAC,qBAAd,WACGA,IAAI,CAACU,KADR,kBACe,aADf,kBACyB,aADzB,kBACmC,iCAAaV,IAAI,CAACY,MAAlB,GADnC,GADH,cAIG,UAAG,SAAS,CAAC,mBAAb,UAAkCZ,IAAI,CAACa,WAAvC,EAJH,GAAcb,IAAI,CAACD,EAAnB,CADC,EAFL,CAFD,EAHN,GADF,CAoBD,CA7CD,CA+CA,cAAeF,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { busca } from '../api/api'\r\nimport '../assets/css/post.css'\r\nimport axios from 'axios'\r\n\r\nconst Post = () => { \r\n  let history = useHistory()\r\n  const { id } = useParams()\r\n  const[post, setPost] = useState({})\r\n  const [data, setData] = useState([]); \r\n\r\n  useEffect(() => {\r\n    busca(`/movie/${id}`, setPost)\r\n  }, [id])\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        \"https://imdb-bonaparte.herokuapp.com/movie/all\"\r\n      )\r\n      setData(res?.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [])\r\n\r\n  return(\r\n    <span>\r\n          \r\n          <h2 className=\"titulo-pagina\">Rating - {id}</h2>\r\n          <section className=\"container flex flex--centro\">\r\n          { \r\n           data\r\n           .filter((post) => (post.title === id))\r\n           .map((post) => (                 \r\n               <article key={post.id} className=\"cartao\">\r\n                  <h1 className=\"cartao-post__titulo\">\r\n                    {post.title} <br></br> <br></br> <h2>Rating: {post.rating}</h2>\r\n                  </h1>\r\n                  <p className=\"cartao-post__meta\">{post.description}</p>\r\n               </article> \r\n           ))\r\n          }\r\n        </section>\r\n        </span>\r\n  )\r\n}\r\n\r\nexport default Post"]},"metadata":{},"sourceType":"module"}